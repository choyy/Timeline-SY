<head>
    <script src="timeline3/js/timeline.js"></script>
    <script src="manipulations.js"></script>
</head>

<body>
    <link rel="stylesheet" id="timelinetheme" href="timeline3/css/timeline.css">
    <div id="Timeline">
        <script src="init.js"></script>
    </div>
    <div id="button-element" style="top: 200px;right: 30px;position: absolute;z-index: 999;">
        <input type="button" value="新建" class="tl-blue-button" onclick="document.getElementById('light').style.display='block';
                                                        document.getElementById('fade').style.display='block'">
        <input type="button" value="编辑" class="tl-blue-button" onclick="document.getElementById('light').style.display='block';
                                                         document.getElementById('fade').style.display='block';
                                                         editSlide();">
        <input type="button" value="删除" class="tl-red-button" onclick="deleteSlide()">
        <li class="list-father">...
            <ul class="list-son">
                <li><input type="button" value="浏览器打开" class="tl-red-button"
                        onclick="window.open(window.location.href+`?blockid=${window.baseid}`)"></li>
                <li><input type="button" value="刷新时间线" class="tl-red-button" onclick="timelineReload()"></li>
            </ul>
        </li>
    </div>
    <div id="light" class="white_content">
        <div id="date_area">
            开始日期：
            <input type="number" name="" id="start_year" value="" class="tl-date-field" style="width: 65px;" />年
            <input type="number" name="" id="start_month" value="" min="1" max="12" class="tl-md-field"
                style="width: 50px;" />月
            <input type="number" name="" id="start_day" value="" min="1" max="31" class="tl-md-field"
                style="width: 50px;" />日</br>
            <div class="tl-block"></div>
            结束日期：
            <input type="number" name="" id="end_year" value="" class="tl-date-field" style="width: 65px;" />年
            <input type="number" name="" id="end_month" value="" min="1" max="12" class="tl-md-field"
                style="width: 50px;" />月
            <input type="number" name="" id="end_day" value="" min="1" max="31" class="tl-md-field"
                style="width: 50px;" />日</br>
        </div>
        <div class="tl-block"></div>
        <div>
            <span style="padding-left: 32px;">标题：</span>
            <input type="text" name="" id="slide_title" value="" class="tl-text-field" /></br>
        </div>
        <div class="tl-block"></div>
        <div>
            <span style="padding-left: 32px;">描述：</span>
            <textarea name="" id="slide_contents" rows="5" class="tl-text-field"></textarea></br>
        </div>
        <div class="tl-block"></div>
        背景图片：<input type="text" name="" id="slide_background" class="tl-text-field" /></br>
        <div class="tl-block"></div>
        思源块 id：<input type="text" name="" id="slide_blockid" class="tl-text-field" /></br>

        <div class="tl-block"></div>
        <div class="tl-block"></div>
        <!-- 确认、取消按钮 -->
        <div class="tl_button">
            <button onclick="confirmYes()" id="confirm_button_yes" class="tl-blue-button"
                style="position: absolute;left:85%;font-size: 16px;">确认</button>
            <button onclick="confirmCancel()" id="confirm_button_cancel" class="tl-red-button"
                style="position: absolute;left:75%;font-size: 16px;">取消</button>
        </div>
    </div>
    <div id="fade" class="black_overlay"></div>
    <script>
        // 开始日期填入默认值
        var init_date = new Date();
        document.getElementById("start_year").value = init_date.getFullYear();
        document.getElementById("start_month").value = init_date.getMonth() + 1;
        document.getElementById("start_day").value = init_date.getDate();
    </script>
    <script>
        // 鼠标滚轮调整日期时禁用滚轮
        var box = document.getElementById("date_area")
        function onMouseWheel(ev) {
            return false;
        }
        addEvent(box, 'mousewheel', onMouseWheel);
        addEvent(box, 'DOMMouseScroll', onMouseWheel);
        function addEvent(obj, xEvent, fn) {
            if (obj.attachEvent) {
                obj.attachEvent('on' + xEvent, fn);
            } else {
                obj.addEventListener(xEvent, fn, false);
            }
        }
        box.addEventListener('mouseover', function () {
            box.onMouseWheel = () => {
                return true;
            }
        })
    </script>
</body>

</html>